{
  "version": 3,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 22,
    "patch": 0
  },
  "configurePresets": [
    {
      "name": "base",
      "hidden": true,
      "binaryDir": "${sourceDir}/build-${presetName}"
    },
    {
      "name": "stm32",
      "hidden": true,
      "cacheVariables": {
        "ST_CMSIS_CORE_TAG": "5.9.0"
      }
    },
    {
      "name": "_template-target",
      "displayName": "_sample - target - template",
      "hidden": true,
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build-template",
      "environment": {
        "PATH": "$penv{LOCALAPPDATA}/Microsoft/WinGet/Links;C:/Program Files (x86)/Arm GNU Toolchain arm-none-eabi/14.2 rel1/bin;$penv{PATH}"
      },
      "cacheVariables": {
        "ENV_REMINDER": "use env for cache, penv elsewhere",
        "WOLFBOOT_CONFIG_MODE": "preset",
        "VISUALGDB": "ON",
        "CMAKE_TOOLCHAIN_FILE": "cmake/toolchain_arm-none-eabi.cmake",
        "WOLFBOOT_TARGET": "stm32l4"
      }
    },
    {
      "name": "vs-debug-trace",
      "displayName": "VS Debug Trace (STM32H7)",
      "inherits": [
        "stm32h7"
      ],
      "binaryDir": "${sourceDir}/out/build/${presetName}",
      "cacheVariables": {
        "WOLFBOOT_CONFIG_MODE": "preset",
        "CMAKE_BUILD_TYPE": "Debug",
        "CMAKE_VERBOSE_MAKEFILE": "ON",
        "CMAKE_FIND_DEBUG_MODE": "ON"
      }
    },
    {
      "name": "stm32h7",
      "displayName": "STM32H7",
      "inherits": [
        "base",
        "stm32"
      ],
      "generator": "Ninja",
      "cacheVariables": {
        "WOLFBOOT_CONFIG_MODE": "preset",
        "ST_HAL_TAG": "v1.10.6",
        "ST_CMSIS_TAG": "v1.7.4",
        "CMAKE_TOOLCHAIN_FILE": "cmake/toolchain_arm-none-eabi.cmake",
        "WOLFBOOT_TARGET": "stm32h7",
        "BUILD_TEST_APPS": "yes",
        "ARCH": "ARM",
        "SIGN": "ECC256",
        "HASH": "SHA256",
        "DEBUG": "OFF",
        "DEBUG_UART": "OFF",
        "VTOR": "ON",
        "NO_ASM": "OFF",
        "EXT_FLASH": "OFF",
        "SPI_FLASH": "OFF",
        "QSPI_FLASH": "OFF",
        "OCTOSPI_FLASH": "OFF",
        "ALLOW_DOWNGRADE": "OFF",
        "NVM_FLASH_WRITEONCE": "OFF",
        "WOLFBOOT_VERSION": "ON",
        "V": "OFF",
        "SPMATH": "ON",
        "RAM_CODE": "OFF",
        "DUALBANK_SWAP": "OFF",
        "WOLFBOOT_PARTITION_SIZE": "0xD0000",
        "WOLFBOOT_SECTOR_SIZE": "0x20000",
        "WOLFBOOT_PARTITION_BOOT_ADDRESS": "0x8020000",
        "WOLFBOOT_PARTITION_UPDATE_ADDRESS": "0x80F0000",
        "WOLFBOOT_PARTITION_SWAP_ADDRESS": "0x81C0000"
      }
    },
    {
      "name": "stm32l4",
      "displayName": "STM32L4",
      "inherits": [
        "base",
        "stm32"
      ],
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build-stm32l4",
      "cacheVariables": {
        "WOLFBOOT_DOWNLOADS_CMAKE": "${sourceDir}/cmake/downloads/stm32l4.cmake",
        "WOLFBOOT_CONFIG_MODE": "preset",
        "WOLFBOOT_TARGET": "stm32l4",
        "STM32L4_PART": "STM32L475xx",
        "BOARD": "B-L475E-IOT01A",
        "ARCH": "ARM",
        "SIGN": "ECC256",
        "HASH": "SHA256",
        "DEBUG": "OFF",
        "VTOR": "ON",
        "CORTEX_M0": "OFF",
        "NO_ASM": "OFF",
        "EXT_FLASH": "OFF",
        "SPI_FLASH": "OFF",
        "ALLOW_DOWNGRADE": "OFF",
        "NVM_FLASH_WRITEONCE": "ON",
        "WOLFBOOT_VERSION": "OFF",
        "V": "OFF",
        "SPMATH": "ON",
        "RAM_CODE": "OFF",
        "DUALBANK_SWAP": "OFF",
        "IMAGE_HEADER_SIZE": "256",
        "WOLFBOOT_SECTOR_SIZE": "0x1000",
        "WOLFBOOT_PARTITION_SIZE": "0x7A000",
        "WOLFBOOT_PARTITION_BOOT_ADDRESS": "0x0800A000",
        "WOLFBOOT_PARTITION_UPDATE_ADDRESS": "0x08084000",
        "WOLFBOOT_PARTITION_SWAP_ADDRESS": "0x080FE000",
        "WOLFTPM": "OFF",
        "CMAKE_TOOLCHAIN_FILE": "cmake/toolchain_arm-none-eabi.cmake",
        "BUILD_TEST_APPS": "ON"
      }
    },
    {
      "name": "stm32c0",
      "displayName": "STM32C0",
      "inherits": [
        "base",
        "stm32"
      ],
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build-stm32c0",
      "cacheVariables": {
        "ST_HAL_TAG": "v1.4.0",
        "ST_CMSIS_TAG": "v1.3.0",
        "ARCH": "ARM",
        "WOLFBOOT_TARGET": "stm32c0",
        "SIGN": "ED25519",
        "HASH": "SHA256",
        "DEBUG": "OFF",
        "VTOR": "ON",
        "CORTEX_M0": "ON",
        "NO_ASM": "OFF",
        "NO_MPU": "ON",
        "EXT_FLASH": "OFF",
        "SPI_FLASH": "OFF",
        "ALLOW_DOWNGRADE": "OFF",
        "NVM_FLASH_WRITEONCE": "ON",
        "WOLFBOOT_VERSION": "OFF",
        "V": "OFF",
        "SPMATH": "ON",
        "DUALBANK_SWAP": "OFF",
        "RAM_CODE": "OFF",
        "WOLFBOOT_PARTITION_SIZE": "0x2000",
        "WOLFBOOT_SECTOR_SIZE": "0x800",
        "WOLFBOOT_PARTITION_BOOT_ADDRESS": "0x08002800",
        "WOLFBOOT_PARTITION_UPDATE_ADDRESS": "0x08005000",
        "WOLFBOOT_PARTITION_SWAP_ADDRESS": "0x08007800",
        "CMAKE_TOOLCHAIN_FILE": "cmake/toolchain_arm-none-eabi.cmake",
        "BUILD_TEST_APPS": "ON",
        "WOLFBOOT_CONFIG_MODE": "preset"
      }
    },
    {
      "name": "stm32f1",
      "displayName": "Linux/WSL ARM (stm32f1)",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build-stm32f1",
      "cacheVariables": {
        "ARCH": "ARM",
        "WOLFBOOT_TARGET": "stm32f1",
        "SIGN": "ED25519",
        "HASH": "SHA256",
        "VTOR": "OFF",
        "SPMATH": "ON",
        "DISABLE_BACKUP": "OFF",
        "NVM_FLASH_WRITEONCE": "ON",
        "WOLFBOOT_PARTITION_BOOT_ADDRESS": "0x08003000",
        "WOLFBOOT_PARTITION_UPDATE_ADDRESS": "0x08009400",
        "WOLFBOOT_PARTITION_SWAP_ADDRESS": "0x0800F800",
        "WOLFBOOT_PARTITION_SIZE": "0x6400",
        "WOLFBOOT_SECTOR_SIZE": "0x400",
        "CMAKE_TOOLCHAIN_FILE": "cmake/toolchain_arm-none-eabi.cmake",
        "BUILD_TEST_APPS": "ON",
        "WOLFBOOT_CONFIG_MODE": "preset"
      }
    },
    {
      "name": "stm32g0",
      "displayName": "stm32g0",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build-stm32g0",
      "cacheVariables": {
        "ARCH": "ARM",
        "WOLFBOOT_TARGET": "stm32g0",
        "SIGN": "ED25519",
        "HASH": "SHA256",
        "DEBUG": "OFF",
        "VTOR": "ON",
        "CORTEX_M0": "ON",
        "NO_ASM": "OFF",
        "EXT_FLASH": "OFF",
        "SPI_FLASH": "OFF",
        "ALLOW_DOWNGRADE": "OFF",
        "NVM_FLASH_WRITEONCE": "ON",
        "WOLFBOOT_VERSION": "OFF",
        "V": "OFF",
        "SPMATH": "ON",
        "RAM_CODE": "ON",
        "DUALBANK_SWAP": "OFF",
        "WOLFBOOT_PARTITION_SIZE": "0xB000",
        "WOLFBOOT_SECTOR_SIZE": "0x800",
        "WOLFBOOT_PARTITION_BOOT_ADDRESS": "0x08008000",
        "WOLFBOOT_PARTITION_UPDATE_ADDRESS": "0x08013000",
        "WOLFBOOT_PARTITION_SWAP_ADDRESS": "0x0801E000",
        "CMAKE_TOOLCHAIN_FILE": "cmake/toolchain_arm-none-eabi.cmake",
        "BUILD_TEST_APPS": "ON",
        "WOLFBOOT_CONFIG_MODE": "preset"
      }
    }
  ],
  "buildPresets": [
    {
      "name": "vs-debug-trace",
      "configurePreset": "vs-debug-trace",
      "jobs": 4,
      "verbose": true,
      "targets": [
        "all"
      ]
    },
    {
      "name": "stm32c0",
      "configurePreset": "stm32c0",
      "jobs": 4,
      "verbose": true,
      "targets": [
        "all"
      ]
    },
    {
      "name": "stm32f1",
      "configurePreset": "stm32f1",
      "jobs": 4,
      "verbose": true,
      "targets": [
        "all"
      ]
    },
    {
      "name": "stm32g0",
      "configurePreset": "stm32g0",
      "jobs": 4,
      "verbose": true,
      "targets": [
        "all"
      ]
    },
    {
      "name": "stm32h7",
      "configurePreset": "stm32h7",
      "jobs": 4,
      "verbose": true,
      "targets": [
        "all"
      ]
    },
    {
      "name": "stm32l4",
      "configurePreset": "stm32l4",
      "jobs": 4,
      "verbose": true,
      "targets": [
        "all"
      ]
    }
  ]
}
